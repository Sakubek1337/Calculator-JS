<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>replit</title>
    <link href="css/style.css" rel="stylesheet" type="text/css" />
  </head>
  <body>
    <div id="image"></div>
    <div class="container">
      <div id="display"></div>
      <div class="buttons">
        <div class="button">C</div>
        <div class="button">/</div>
        <div class="button">*</div>
        <div class="button">&larr;</div>
        <div class="button">9</div>
        <div class="button">8</div>
        <div class="button">7</div>
        <div class="button">+</div>
        <div class="button">6</div>
        <div class="button">5</div>
        <div class="button">4</div>
        <div class="button">-</div>
        <div class="button">3</div>
        <div class="button">2</div>
        <div class="button">1</div>
        <div class="button">.</div>
        <div class="button">(</div>
        <div class="button">0</div>
        <div class="button">)</div>
        <div class="button" id="ravno">=</div>
      </div>
    </div>
    
    <div id="recent">
      <p id="rv"><strong>Recent visitors:</strong></p>
    </div>
    
    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
      import { getDatabase, ref, set, onValue, orderByChild, query } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-database.js";

      const firebaseConfig = {
        apiKey: "AIzaSyAQyEleV-heqqFHyMDOJwMiupNjw9HdgUA",
        authDomain: "calc-68d62.firebaseapp.com",
        databaseURL: "https://calc-68d62-default-rtdb.europe-west1.firebasedatabase.app",
        projectId: "calc-68d62",
        storageBucket: "calc-68d62.appspot.com",
        messagingSenderId: "30359236288",
        appId: "1:30359236288:web:7f66a6c78787fd2c868725"
      };
      const app = initializeApp(firebaseConfig);
      const db = getDatabase(app);
      let count;
      const starCountRef = query(ref(db, 'users'), orderByChild('n'));
      const p = document.getElementById('users');
      let me = 1;
      onValue(starCountRef, (snapshot) => {
        if(me === 1)
          snapshot.forEach((user) => {
            var p = document.createElement("P");
            p.innerText = user.val()["nickname"];
            document.getElementById("recent").appendChild(p);
          })
          me++;
      });
    </script>

    <script src="js/script.js"></script>
    
  </body> 
</html>